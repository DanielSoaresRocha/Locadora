<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:f2="http://java.sun.com/jsf/core"
      >
    <h:head>
        <title>Locadora</title>
        <link rel="stylesheet" href="resources/css/style.css"/>
    </h:head>
    <h:body>



        <div class="logo" align="center">
            <p:outputLabel value="Cadastro de filmes" />
        </div>

        #{cadastrar.exibeFilmes()}

        <h1> <p:outputLabel style="color: grey" value="Cadastre seu filme:" /> </h1> <br/>


        <div class="cadastro">
            <h:form> 
                <p:panelGrid class="ui-custompanelgrid" columns="2"> 

                    <p:outputLabel style="color: #ffffff" value="Titulo: " />
                    <p:inputText id="fTitulo" value="#{cadastrar.titulo}" required="true" requiredMessage="É obrigatório colocar um titulo"/>                              
                    
                    
                    <p:outputLabel style="color: #ffffff" value="Data de lançamento: " />
                    <p:inputText id="fData" value="#{cadastrar.data}" >
                        <f2:convertDateTime pattern="dd/MM/yyyy" for="fData" />
                    </p:inputText>

                    <p:outputLabel style="color: #ffffff" value="Nota: " />
                    <p:inputText id="fNota" value="#{cadastrar.nota}" >
                        <f2:validateDoubleRange maximum="5" minimum="1" />
                        <f2:convertNumber type="number"/>
                    </p:inputText> 

                    <p:outputLabel style="color: #ffffff" value="Descrição: " />
                    <p:inputText id="fDescricao" value="#{cadastrar.descricao}">
                                 <f2:validateLength minimum="10" />        
                    </p:inputText> 

                    <p:outputLabel style="color: #ffffff" value="Quantidade: " />
                    <p:inputText id="fQuantidade" value="#{cadastrar.quantidade}" >
                                 <f2:validateDoubleRange  minimum="0" />      
                    </p:inputText> 

                    <p:outputLabel />
                    <p:commandButton type="submit" value="enviar" action="#{cadastrar.cadastrarFilme()}"/>

                </p:panelGrid>
                <h:message id="m1" for="fTitulo" style="color:red"/>
                <h:message id="m2" for="fData" style="color:red"/>
                <h:message id="m3" for="fNota" style="color:red"/>
                <h:message id="m4" for="fDescricao" style="color:red"/>
                <h:message id="m5" for="fQuantidade" style="color:red"/>
            </h:form>

        </div>
        <br/> <br/>
        <div class="tabela">
            <p:dataTable id="dataTable" value="#{cadastrar.lista}" var="f" >
                <p:column>
                    <f:facet name ="header">Titulo </f:facet>
                        #{f.titulo}
                </p:column>

                <p:column>
                    <f:facet name="header">Data </f:facet>
                        #{f.data}
                </p:column>

                <p:column>
                    <f:facet name="header" >Nota </f:facet>
                        #{f.nota}
                </p:column>

                <p:column>
                    <f:facet name="header" >Descricao </f:facet>
                        #{f.descricao}
                </p:column>

                <p:column>
                    <f:facet name="header" >Quantidade </f:facet> 
                        #{f.quantidade}
                </p:column>

            </p:dataTable>

        </div>
        <h:form>
        <p:commandButton value="Aluguel" action="#{cadastrar.telaAluguel()}" />
            
        </h:form>
       
    </h:body>
</html>

